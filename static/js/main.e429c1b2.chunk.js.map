{"version":3,"sources":["redux/actions/actionTypes.js","redux/reducers/dataReducers.js","redux/store.js","redux/actions/dataActions.js","components/AnimeCards.js","landingPage.js","redux/asyncActions/dataAsyncActions.js","App.js","reportWebVitals.js","index.js"],"names":["GET_DATA_STARTED","GET_DATA_SUCCESS","GET_DATA_FAILURE","LOAD_DATA_STARTED","LOAD_DATA_SUCCESS","LOAD_DATA_FAILURE","initialState","data","lastPage","loading","error","store","createStore","state","action","type","queryData","payload","loadedData","errorLoad","applyMiddleware","thunk","getDataStarted","getDataSuccess","getDataFailure","loadDataStarted","loadDataSuccess","loadDataFailure","AnimeCards","map","index","className","href","url","target","rel","src","image_url","alt","title","mapDispatchToProps","getData","query","page","dispatch","a","fetch","encodeURI","res","json","results","last_page","message","loadMoreData","connect","useState","pageNumber","updatePageNumber","isRequesting","setIsRequesting","updateQuery","q","window","location","hash","substring","navigate","useNavigate","useEffect","console","log","onSubmit","e","preventDefault","localStorage","getItem","handleSearch","placeholder","value","onChange","required","style","color","onClick","id","App","path","element","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e429c1b2.chunk.js","sourcesContent":["export const GET_DATA_STARTED = 'GET_DATA_STARTED';\r\nexport const GET_DATA_SUCCESS = 'GET_DATA_SUCCESS';\r\nexport const GET_DATA_FAILURE = 'GET_DATA_FAILURE';\r\nexport const LOAD_DATA_STARTED = 'LOAD_DATA_STARTED';\r\nexport const LOAD_DATA_SUCCESS = 'LOAD_DATA_SUCCESS';\r\nexport const LOAD_DATA_FAILURE = 'LOAD_DATA_FAILURE';","import {GET_DATA_STARTED, GET_DATA_SUCCESS, GET_DATA_FAILURE, LOAD_DATA_STARTED, LOAD_DATA_SUCCESS, LOAD_DATA_FAILURE} from '../actions/actionTypes'\r\n\r\nconst initialState = {\r\n    data: [],\r\n    lastPage: null,\r\n    loading: false,\r\n    error: null\r\n}\r\n\r\nexport default function common(state = initialState, action) {\r\n    switch (action.type) {\r\n        case GET_DATA_STARTED:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case GET_DATA_SUCCESS:\r\n            const queryData = action.payload\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                data: queryData.data,\r\n                lastPage: queryData.lastPage\r\n            }\r\n        case GET_DATA_FAILURE:\r\n            const { error } = action.payload\r\n            return {\r\n                ...state,\r\n                error: error,\r\n                loading: false\r\n            }\r\n        case LOAD_DATA_STARTED:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case LOAD_DATA_SUCCESS:\r\n            const loadedData = action.payload\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                data: [...state.data, ...loadedData.data]\r\n            }\r\n        case LOAD_DATA_FAILURE:\r\n            const { errorLoad } = action.payload\r\n            return {\r\n                ...state,\r\n                error: errorLoad,\r\n                loading: false\r\n            }\r\n        default: \r\n            return state\r\n    }\r\n}","import { createStore, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport dataReducer from './reducers/dataReducers'\r\n\r\nconst store = createStore(dataReducer, applyMiddleware(thunk));\r\n\r\nexport default store;","import {GET_DATA_STARTED, GET_DATA_SUCCESS, GET_DATA_FAILURE, LOAD_DATA_STARTED, LOAD_DATA_SUCCESS, LOAD_DATA_FAILURE} from './actionTypes'\r\n\r\nexport const getDataStarted = () => {\r\n    return {\r\n        type: GET_DATA_STARTED\r\n    }\r\n}\r\n\r\nexport const getDataSuccess = (data) => {\r\n    return {\r\n        type: GET_DATA_SUCCESS,\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport const getDataFailure = (error) => {\r\n    return {\r\n        type: GET_DATA_FAILURE,\r\n        payload: {\r\n            error\r\n        }\r\n    }\r\n} \r\n\r\nexport const loadDataStarted = () => {\r\n    return {\r\n        type: LOAD_DATA_STARTED\r\n    }\r\n}\r\n\r\nexport const loadDataSuccess = (data) => {\r\n    return {\r\n        type: LOAD_DATA_SUCCESS,\r\n        payload: {\r\n            data\r\n        }\r\n    }\r\n}\r\n\r\nexport const loadDataFailure = (error) => {\r\n    return {\r\n        type: LOAD_DATA_FAILURE,\r\n        payload: {\r\n            error\r\n        }\r\n    }\r\n} ","import React from 'react'\r\n\r\nfunction AnimeCards({queryData}) {\r\n    return (\r\n        <>\r\n            {queryData && queryData.map((data, index) => {\r\n                return(\r\n                    <div className=\"resultCard\" key={index}>\r\n                        <a href={data.url} target=\"_blank\" rel=\"noreferrer\">\r\n                            <img src={data.image_url} alt=\"Anime Poster\"/>\r\n                        </a>\r\n                        <div>{data.title}</div>\r\n                    </div>\r\n                )\r\n            })}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AnimeCards\r\n","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { getData, loadMoreData } from './redux/asyncActions/dataAsyncActions'\r\nimport './App.css'\r\nimport AnimeCards from './components/AnimeCards';\r\nimport { useNavigate } from 'react-router';\r\n\r\nfunction LandingPage({ queryData, lastPage, getData, loadMoreData }) {\r\n\r\n  const [pageNumber, updatePageNumber] = useState(1);\r\n  const [isRequesting, setIsRequesting] = useState(false)\r\n  // const queryRef = useRef(null)\r\n  const [query, updateQuery] =  useState('');\r\n  let q = window.location.hash.substring(5)\r\n  const navigate = useNavigate()\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault()\r\n    updatePageNumber(1)\r\n    setIsRequesting(true)\r\n    getData(query, 1) \r\n    navigate('/?q='+localStorage.getItem(\"query\"))\r\n  }\r\n\r\n  const loadData = () => {\r\n    loadMoreData(query, pageNumber + 1)\r\n    updatePageNumber(pageNumber + 1)\r\n  }\r\n\r\n  useEffect(()=>{\r\n    updatePageNumber(0)\r\n  }, [query])\r\n\r\n  useState(()=>{\r\n    if(q) {\r\n      updateQuery(q)\r\n      getData(q, 1)\r\n      setIsRequesting(true)\r\n    } \r\n  }, [q])\r\n\r\n  console.log(q)\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      \r\n      <form className=\"search\" onSubmit={(e)=>handleSearch(e)}>\r\n        <input className=\"searchBox\" type=\"text\" placeholder=\"Enter keywords to search\" value={query} onChange={(e)=>updateQuery(e.target.value)} required/>\r\n        <button type=\"submit\" className=\"searchButton\">Go</button>\r\n      </form>\r\n\r\n      {isRequesting && (<div className=\"requesting\">\r\n        <span style={{color: '#398DC9'}}>Requesting:</span> <span style={{color: '#5AA2D4'}}>https://api.jikan.moe/v3/search/anime?q={encodeURI(query)}</span>\r\n      </div>)}\r\n\r\n      <div className=\"resultsContainer\">\r\n        <AnimeCards queryData={queryData} />\r\n      </div>\r\n\r\n      {lastPage && (pageNumber < lastPage) ? \r\n        (<div className=\"btn\">\r\n          <button className=\"load-data\" onClick={()=>{loadData()}}>Load More...</button>\r\n        </div>) : ((pageNumber === lastPage) ? (\r\n          <div className=\"btn\">\r\n            <button className=\"load-data\">Looks like you have reached the end :)</button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"btn\">\r\n            <button id=\"des\" className=\"load-data\">Search something new to see results</button>\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    queryData: state.data,\r\n    lastPage: state.lastPage\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  getData,\r\n  loadMoreData\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LandingPage)\r\n","import { getDataStarted, getDataSuccess, getDataFailure, loadDataStarted, loadDataSuccess, loadDataFailure } from \"../actions/dataActions\";\r\n\r\nexport const getData = (query, page = 1) => async dispatch => {\r\n    dispatch (getDataStarted());\r\n    try {\r\n        const res = await fetch (`https://api.jikan.moe/v3/search/anime?q=${encodeURI(query)}&limit=16&page=${page}`)\r\n        const data = await res.json();\r\n        dispatch (getDataSuccess({data: data.results, lastPage: data.last_page}));\r\n    } catch (err) {\r\n        dispatch (getDataFailure(err.message))\r\n    }\r\n}\r\n\r\nexport const loadMoreData = (query, page = 2) => async dispatch => {\r\n    dispatch (loadDataStarted());\r\n    try {\r\n        const res = await fetch (`https://api.jikan.moe/v3/search/anime?q=${encodeURI(query)}&limit=16&page=${page}`)\r\n        const data = await res.json();\r\n        dispatch (loadDataSuccess(data.results));\r\n    } catch (err) {\r\n        dispatch (loadDataFailure(err.message))\r\n    }\r\n}","import React from 'react'\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  HashRouter,\n} from \"react-router-dom\";\nimport LandingPage from './landingPage'\n\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Routes>\n        <Route path=\"/\" element={<LandingPage/>}/>\n        <Route exact path=\"/?q=:q\" element={<LandingPage/>} />\n      </Routes>\n    </HashRouter>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />  \n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}